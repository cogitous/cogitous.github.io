"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9538,6559,4276],{39538:function(t,e,n){n.d(e,{O:function(){return b}});var r=n(52322),i=n(38421),l=n.n(i),o=n(2784),a=n(25237),u=n.n(a),s=n(61605),c=n(6804),d=n(67381),v=n(78013),_=n(71717),p=n(73137);let m=t=>{var e;let{isChildTemplate:n,childTemplateSlug:r}=t,i=(0,o.useContext)(d.u),l=(0,o.useContext)(s.z),a=null==l||null===(e=l.customization)||void 0===e?void 0:e.item_page_data,u=(0,o.useCallback)((async()=>{if(a&&l&&(null==i?void 0:i.routes)&&r){var t,e;let n=(0,v.wo)(i.routes),o=await(null===(t=(0,_.Z)(null==a?void 0:a.integration))||void 0===t?void 0:t.getDataBySlug(null==i?void 0:i.id,a,r)),u=(0,p.Z)(null==o||null===(e=o.data)||void 0===e?void 0:e[0],a,l.id,n[l.id],c.Z,l.published_content[0]);l.setPublishedContent([u])}}),[a,l,null==i?void 0:i.routes,null==i?void 0:i.id,r]);(0,o.useEffect)((()=>{n&&r&&(null==a?void 0:a.expiresAt)&&(new Date).getTime()>new Date(null==a?void 0:a.expiresAt).getTime()-1e4&&u()}),[null==a?void 0:a.expiresAt,r,n])};var f=n(54858),y=n(5053),g=class{static async submit(t,e){let n=new y.Z;return await n.post("/form/submission/".concat(t),e)}};let h=u()((()=>Promise.all([n.e(7775),n.e(41),n.e(6031)]).then(n.bind(n,86031)).then((t=>t.CollectionProvider))),{loadableGenerated:{webpack:()=>[86031]}}),w=u()((()=>Promise.all([n.e(2182),n.e(6535),n.e(8235),n.e(3105),n.e(2928)]).then(n.bind(n,13105)).then((t=>t.Serializer))),{loadableGenerated:{webpack:()=>[13105]}});function b(t){let{isChildTemplate:e,childTemplateSlug:n}=t,i=(0,o.useContext)(s.z);return m({isChildTemplate:e,childTemplateSlug:n}),(0,r.jsx)(w,{node:i.published_content[0],optimizedImageComponent:l(),collectionProviderComponent:h,isImageOptimizable:f.q,handleFormSubmission:g.submit,rootClassName:"typedream content"})}b.defaultProps={childTemplateSlug:void 0}},61605:function(t,e,n){n.d(e,{T:function(){return a},z:function(){return o}});var r=n(52322),i=n(32957),l=n(2784);let o=(0,l.createContext)(null);function a(t){let{page:e,children:n}=t,[a,u]=(0,l.useState)(e);(0,l.useEffect)((()=>{e.id===a.id&&((0,i.Z)(e,a)||a.modified)||u(e)}),[e]);let s=(0,l.useMemo)((()=>({...a,setPublishedContent:t=>{u({...a,published_content:t,modified:!0})}})),[a]);return(0,r.jsx)(o.Provider,{value:s,children:n})}},67381:function(t,e,n){n.d(e,{M:function(){return l},u:function(){return i}});var r=n(52322);let i=(0,n(2784).createContext)(null);function l(t){let{space:e,children:n}=t;return(0,r.jsx)(i.Provider,{value:e,children:n})}},21326:function(t,e,n){var r=n(203),i=n(74641);let l=(t,e,n,o,a)=>{let{collection_connect_data:u,collection_connect_data_keys:s}=a,c={...a};return u&&s.forEach((l=>{let{schemaKey:a,blockElementKey:u}=l,s=e[a],d=t[s];if(d)c[u]=String(d);else if(s!==i.Si||!r.W_.isElement(c)||"a"!==c.type&&"button"!==c.type&&"container"!==c.type&&"img"!==c.type)c[u]="";else{c.page_id=n,c.internal_link=!0;let e="".concat("/".concat(o.join("/")),"/").concat(t[i.OH.SLUG.fieldName]);"img"===c.type?c.href=e:c.url=e}})),r.W_.isElement(c)&&(c.children=c.children.map((r=>l(t,e,n,o,r)))),c};e.Z=l},71717:function(t,e,n){n.d(e,{Z:function(){return g}});var r,i=n(76559),l=n(9669),o=n.n(l),a=n(31691),u=n(74641),s=n(5053),c=class{static getDataQuery(t,e,n,r,i,l){return{path:"/app/proxy_public/".concat(t,"/notion"),data:{url:"https://api.notion.com/v1/databases/".concat(e,"/query"),method:"POST",header:{"Content-Type":"application/json","Notion-Version":"2021-08-16"},body:{filter:n,sorts:r,start_cursor:i,page_size:l||void 0}},app:"notion"}}static async callQuery(t,e){let n=new s.Z;return await n.post(t,e)}static async getTable(t,e){let n=new s.Z;return await n.post("/app/proxy_public/".concat(t,"/notion"),{url:"https://api.notion.com/v1/databases/".concat(e),method:"GET",header:{"Content-Type":"application/json","Notion-Version":"2021-08-16"}})}};(r||(r={})).TABLE_ID="tableID";let d={title:{key:"contains",type:"string"},text:{key:"contains",type:"string"},rich_text:{key:"contains",type:"string"},number:{key:"equals",type:"number"},checkbox:{key:"equals",type:"boolean"},select:{key:"equals",type:"string"},multi_select:{key:"contains",type:"string"},date:{key:"equals",type:"true"},url:{key:"contains",type:"string"},email:{key:"contains",type:"string"},phone:{key:"contains",type:"string"},phone_number:{key:"contains",type:"string"},created_time:{key:"equals",type:"true"},last_edited_time:{key:"equals",type:"true"}},v={title:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},text:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},rich_text:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},number:{equals:"number",does_not_equal:"number",greater_than:"number",less_than:"number",greater_than_or_equal_to:"number",less_than_or_equal_to:"number",is_empty:"true",is_not_empty:"true"},checkbox:{equals:"boolean",does_not_equal:"boolean"},select:{equals:"string",does_not_equal:"string",is_empty:"true",is_not_empty:"true"},multi_select:{contains:"string",does_not_contain:"string",is_empty:"true",is_not_empty:"true"},date:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"},files:{is_empty:"true",is_not_empty:"true"},url:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},email:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},phone:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},phone_number:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},created_time:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"},last_edited_time:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"}},_=t=>{try{let e=new Date(Date.parse(t)).toISOString().split("Z")[0],[n,r]=e.split("T"),i=r.split(":").slice(0,2).join(":");return"".concat(n).concat("00:00"!==i?" ".concat(i):"")}catch(e){return t}},p=t=>{var e,n,r,i,l,o,a,u,s,c,d,v,m,f,y,g,h,w,b,q;let x=t.type,k=null,C=null;switch(x){case"title":case"rich_text":C=null===(e=null==t||null===(n=t[x])||void 0===n?void 0:n.map((t=>t.plain_text)))||void 0===e?void 0:e.join("");break;case"string":case"checkbox":case"url":case"email":case"phone_number":case"number":C=null==t?void 0:t[x];break;case"multi_select":C=null==t||null===(r=t[x])||void 0===r?void 0:r.map((t=>t.name)).join(", ");break;case"date":C=_(null==t||null===(i=t[x])||void 0===i?void 0:i.start),(null==t||null===(l=t[x])||void 0===l?void 0:l.end)&&(C="".concat(C," - ").concat(_(null==t||null===(o=t[x])||void 0===o?void 0:o.end)));break;case"people":C=null==t||null===(a=t[x])||void 0===a?void 0:a.map((t=>t.name)).join(", ");break;case"files":"file"===(null==t||null===(u=t[x])||void 0===u||null===(s=u[0])||void 0===s?void 0:s.type)?(C=null==t||null===(c=t[x])||void 0===c||null===(d=c[0])||void 0===d||null===(v=d.file)||void 0===v?void 0:v.url,k=null==t||null===(m=t[x])||void 0===m||null===(f=m[0])||void 0===f||null===(y=f.file)||void 0===y?void 0:y.expiry_time):C=null==t||null===(g=t[x])||void 0===g||null===(h=g[0])||void 0===h||null===(w=h.external)||void 0===w?void 0:w.url;break;case"formula":return p(null==t?void 0:t[x]);case"created_time":case"last_edited_time":C=_(null==t?void 0:t[x]);break;case"select":case"created_by":case"last_edited_by":C=null==t||null===(b=t[x])||void 0===b?void 0:b.name;break;case"rollup":{let e=null==t?void 0:t[x].type;if("array"===e){let n=null===(q=null==t?void 0:t[x][e])||void 0===q?void 0:q.map((t=>{let{propValue:e,expiresAt:n}=p(t);return(!k||n&&new Date(n).getTime()<new Date(k).getTime())&&(k=n),e}));C=n.join(",")||"";break}C=p(null==t?void 0:t[x]),(null==t?void 0:t[x].function.includes("percent"))&&(C="".concat(Math.round(1e3*Number(C.propValue))/10,"%"));break}default:C=""}return{propValue:C,expiresAt:k}},m=t=>{let e=new Date(Date.parse("".concat(t," GMT+0000"))).toISOString().split("Z")[0],[n,r]=e.split("T"),i=r.split(":").slice(0,2).join(":");return"".concat(n).concat("00:00"!==i?" ".concat(i):"")};function f(t,e){if(void 0===e)return e;switch(t){case"string":return"".concat(e);case"number":if(!e||Number.isNaN(e)||Number.isNaN(parseFloat(String(e)))||Number.isNaN(Number(e)))return;return parseFloat(String(e));case"date":if(!(0,a.Z)(e))return;return m(String(e));case"boolean":if("string"!=typeof e)return e;if("true"!==(null==e?void 0:e.toLowerCase())&&"false"!==(null==e?void 0:e.toLowerCase()))return;return"true"===(null==e?void 0:e.toLowerCase());case"true":if("string"!=typeof e)return e;if("true"!==(null==e?void 0:e.toLowerCase()))return;return"true"===(null==e?void 0:e.toLowerCase());default:return e}}let y={getColumnNames:async(t,e)=>{var n;let i=null==e?void 0:e[r.TABLE_ID],l=await c.getTable(t,i),o=null==l||null===(n=l.data)||void 0===n?void 0:n.properties;if(!o)return{};let a={};return Object.keys(o).forEach((t=>{a[t]={id:o[t].id,type:o[t].type,name:t}})),a},getColumnSelectOptions:async(t,e,n)=>{var i,l;let o=null==n?void 0:n[r.TABLE_ID],a=await c.getTable(t,o),u=null==a||null===(i=a.data)||void 0===i||null===(l=i.properties)||void 0===l?void 0:l[e];return u?u[u.type].options.map((t=>t.name)):[]},getDataQuery:(t,e,n,l)=>{var o,a;let u=null==e?void 0:e[r.TABLE_ID],s=null==e?void 0:e.metadata,d=(null==s?void 0:s.filter_column)?{property:s.filter_column,[s.filter_column_type]:{[s.filter_condition]:f(null===(o=v[s.filter_column_type])||void 0===o?void 0:o[s.filter_condition],s.filter_value)}}:void 0,_=(null==s?void 0:s.visitor_filter_column)&&l&&l!==i.k?{property:s.visitor_filter_column,[s.visitor_filter_column_type]:{["select"===s.visitor_filter_column_type?"equals":"contains"]:f(null===(a=v[s.visitor_filter_column_type])||void 0===a?void 0:a["select"===s.visitor_filter_column_type?"equals":"contains"],l)}}:void 0,p=(null==s?void 0:s.sort_column)?[{property:s.sort_column,direction:s.sort_direction}]:void 0;return c.getDataQuery(t,u,d&&_?{and:[d,_]}:d||_,p,n,null==s?void 0:s.max_items)},constructGetDataResult:t=>{let e=null==t?void 0:t.results;if(!e)return{data:[],has_more:null==t?void 0:t.has_more,next_cursor:null==t?void 0:t.next_cursor,expires_at:null};let n=null,r=[];return e.forEach((t=>{if(null==t?void 0:t.properties){let e={},i=null==t?void 0:t.properties;Object.entries(i).forEach((t=>{let[r,i]=t,{propValue:l,expiresAt:o}=p(i);o&&(n=n&&new Date(n).getTime()<new Date(o).getTime()?n:o),l&&(e[r]=l)})),e[u.it]=null==t?void 0:t.id,r.push(e)}})),{data:r,has_more:null==t?void 0:t.has_more,next_cursor:null==t?void 0:t.next_cursor,expires_at:n}},getData:async(t,e,n,r)=>{let i=y.getDataQuery(t,e,n,r),l=await c.callQuery(i.path,i.data);return y.constructGetDataResult(null==l?void 0:l.data)},getDataBySlug:async(t,e,n)=>{var i,l,o;let a=null==e?void 0:e[r.TABLE_ID],s={property:u.OH.SLUG.fieldName,[u.OH.SLUG.type]:{equals:n}},d=c.getDataQuery(t,a,s,void 0,void 0,1),v=await c.callQuery(d.path,d.data),_=y.constructGetDataResult(null==v?void 0:v.data);if((null==_||null===(i=_.data)||void 0===i?void 0:i.length)<=0)throw Error("item page not found");let p=null==_||null===(l=_.data)||void 0===l?void 0:l[0],m=await y.JSONFileToContent(p,e),f=null==e||null===(o=e.pageSchema)||void 0===o?void 0:o.metadata;return m[f]=m[f]?JSON.parse(m[f]):m[f],_.data[0]=m,_},getDataWithSearchQueryAndFilter:async(t,e,n,l,o,a)=>{var u,s;let _=null==e?void 0:e[r.TABLE_ID],p=null==e?void 0:e.metadata,m=(null==p?void 0:p.filter_column)?{property:p.filter_column,[p.filter_column_type]:{[p.filter_condition]:f(null===(u=v[p.filter_column_type])||void 0===u?void 0:u[p.filter_condition],p.filter_value)}}:void 0,g=(null==p?void 0:p.visitor_filter_column)&&a&&a!==i.k?{property:p.visitor_filter_column,[p.visitor_filter_column_type]:{["select"===p.visitor_filter_column_type?"equals":"contains"]:f(null===(s=v[p.visitor_filter_column_type])||void 0===s?void 0:s["select"===p.visitor_filter_column_type?"equals":"contains"],a)}}:void 0,h=m&&g?{and:[m,g]}:m||g,w=null==p?void 0:p.search_columns;w=Array.isArray(w)&&(null==w?void 0:w.length)>0?w:Object.keys(l);let b=[];n&&w.forEach((t=>{let e=l[t];if(d[e.type]){let{key:t,type:r}=d[e.type],i=f(r,n);if(null!=i&&""!==i){if("string"===r)return void(b=b.concat([{property:e.name,[e.type]:{[t]:i}},{property:e.name,[e.type]:{[t]:i.toLowerCase()}},{property:e.name,[e.type]:{[t]:i.toUpperCase()}},{property:e.name,[e.type]:{[t]:i.charAt(0).toUpperCase()+i.slice(1)}},{property:e.name,[e.type]:{[t]:function(t){return t.split(" ").map((t=>t[0].toUpperCase()+t.substring(1))).join(" ")}(i)}}]));b.push({property:e.name,[e.type]:{[t]:i}})}}}));let q=h;(null==b?void 0:b.length)>0&&h&&(q={and:[h,{or:b}]}),(null==b?void 0:b.length)>0&&!h&&(q={or:b});let x=(null==p?void 0:p.sort_column)?[{property:null==p?void 0:p.sort_column,direction:null==p?void 0:p.sort_direction}]:void 0,k=c.getDataQuery(t,_,q,x,o,null==p?void 0:p.max_items),C=await c.callQuery(k.path,k.data);return y.constructGetDataResult(null==C?void 0:C.data)},getItemPageDataID:t=>{let e=null==t?void 0:t.integration,n=null==t?void 0:t[r.TABLE_ID];return"".concat(e,"_").concat(n)},tableConnected:t=>t&&(null==t?void 0:t[r.TABLE_ID]),JSONFileToContent:async(t,e)=>{var n;let r=t,i=null==e||null===(n=e.pageSchema)||void 0===n?void 0:n.content;if(t&&t[i]){let e=t[i],n=await o().get(e,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),l=(null==n?void 0:n.data)?JSON.parse(null==n?void 0:n.data):null;r[i]=l}return r}};var g=t=>{if("notion"===t)return y;throw Error("Unknown integration ".concat(t))}},73137:function(t,e,n){var r=n(203),i=n(21326);let l=(t,e,n)=>{let i={...n};if(r.W_.isElement(i))if("rich_text_content"===i.type){let n=e.content,r=t[n];try{var o;let t=null==r||null===(o=r[0])||void 0===o?void 0:o.children;t&&(i.children=t)}catch(t){}}else i.children=i.children.map((n=>l(t,e,n)));return i};e.Z=(t,e,n,r,o,a)=>{let u={...a,id:a.id||o()};return t&&e.contentSchema&&(u=(0,i.Z)(t,e.contentSchema,n,r,a),u=l(t,e.pageSchema,u)),u}},78013:function(t,e,n){n.d(e,{wo:function(){return r}});let r=(0,n(77068).Z)((function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return(null==t?void 0:t.page_id)&&(n[t.page_id]=e,(null==t?void 0:t.children_template_page_id)&&(n[t.children_template_page_id]=e),t.children&&Object.keys(t.children).forEach((i=>{Object.assign(n,r(t.children[i],[...e,i]))}))),n}))},98635:function(t,e,n){var r,i;n.d(e,{P:function(){return r}}),(i=r||(r={})).PILL="pill",i.PILL_BG="pillWithBackground",i.TAB="tab",i.SQUARE_BG="squareWithBackground",i.LEFT_COLUMN="leftColumn"},76559:function(t,e,n){n.d(e,{L:function(){return Q},k:function(){return G}});var r={};n.r(r),n.d(r,{filterContainer_leftColumn:function(){return v},filterContainer_pill:function(){return _},filterContainer_pillWithBackground:function(){return p},filterContainer_squareWithBackground:function(){return m},filterContainer_tab:function(){return f},filterItemActive_leftColumn:function(){return y},filterItemActive_pill:function(){return g},filterItemActive_pillWithBackground:function(){return h},filterItemActive_squareWithBackground:function(){return w},filterItemActive_tab:function(){return b},filterItemWrapper_leftColumn:function(){return q},filterItemWrapper_pill:function(){return x},filterItemWrapper_pillWithBackground:function(){return k},filterItemWrapper_squareWithBackground:function(){return C},filterItemWrapper_tab:function(){return T},filterItem_leftColumn:function(){return S},filterItem_pill:function(){return I},filterItem_pillWithBackground:function(){return j},filterItem_squareWithBackground:function(){return D},filterItem_tab:function(){return N},filterNavNext:function(){return A},filterNavPrev:function(){return L},filterWrapper_leftColumn:function(){return W},filterWrapper_pill:function(){return E},filterWrapper_pillWithBackground:function(){return B},filterWrapper_squareWithBackground:function(){return P},filterWrapper_tab:function(){return O}});var i=n(24228),l=n(93765),o=n(10869),a=n(50834),u=n(72779),s=n.n(u),c=n(2784),d=n(98635),v="vvqwo72",_="vvqwo73 vvqwo70",p="vvqwo74 vvqwo71 vvqwo70",m="vvqwo75 vvqwo71 vvqwo70",f="vvqwo76 vvqwo70",y="vvqwo7d",g="vvqwo79 vvqwo78",h="vvqwo7a vvqwo78",w="vvqwo7b vvqwo78",b="vvqwo7c",q="vvqwo7o",x="vvqwo7k vvqwo7j",k="vvqwo7l vvqwo7j",C="vvqwo7m vvqwo7j",T="vvqwo7n vvqwo7j",S="vvqwo7i",I="vvqwo7f vvqwo77",j="vvqwo7g vvqwo77",D="vvqwo7h vvqwo77",N="vvqwo7e vvqwo77",A="vvqwo7w vvqwo7v",L="vvqwo7x vvqwo7v",W="vvqwo7p",E="vvqwo7r vvqwo7q",B="vvqwo7s vvqwo7q",P="vvqwo7t vvqwo7q",O="vvqwo7u vvqwo7q",Z=n(52322);let G="All";function Q(t){let{filters:e,filterStyle:n=d.P.PILL,filterColor:u,selectedFilter:v,setSelectedFilter:_}=t,p=(0,c.useRef)(null),[m,f]=(0,c.useState)(0),[y,g]=(0,c.useState)(!1),h=p.current&&n!==d.P.LEFT_COLUMN&&p.current.scrollWidth>p.current.offsetWidth,w=t=>t?n===d.P.TAB?"white"===u||"gray"===u?"var(--text)":"var(--accent)":"gray"===u?"var(--text)":"white"===u?"var(--text-light-theme)":"var(--text-on-accent)":"var(--text-lighter)",b=t=>t&&n===d.P.TAB?"white"===u||"gray"===u?"var(--text-light)":"var(--accent)":"transparent";(0,c.useEffect)((()=>{p.current&&h&&(m>=p.current.scrollWidth-p.current.offsetWidth-1?g(!0):g(!1))}),[m,h]);let q=t=>{p.current&&(p.current.scrollLeft+=t,f(m+t))};return(0,Z.jsxs)("div",{className:s()(r[`filterWrapper_${n}`]),style:{"--accent":(0,o.Tj)(u,a.z7)},children:[(0,Z.jsx)("div",{className:r[`filterContainer_${n}`],children:(0,Z.jsxs)("div",{className:r[`filterItemWrapper_${n}`],ref:p,onScroll:h?()=>{p.current&&f(p.current.scrollLeft)}:()=>{},children:[(0,Z.jsx)("button",{type:"button",onClick:()=>_(G),className:s()(r[`filterItem_${n}`],{[r[`filterItemActive_${n}`]]:v===G}),style:{color:w(v===G),borderColor:b(v===G),boxShadow:v===G&&n!==d.P.TAB?`0 10px 20px -10px ${(0,o.Tj)(u,a.My)}`:"none"},children:G}),e.map((t=>(0,Z.jsx)("button",{type:"button",onClick:()=>_(t),className:s()(r[`filterItem_${n}`],{[r[`filterItemActive_${n}`]]:v===t}),style:{color:w(v===t),borderColor:b(v===t),boxShadow:v===t&&n!==d.P.TAB?`0 10px 20px -10px ${(0,o.Tj)(u,a.My)}`:"none"},children:t},t)))]})}),h&&0!==m&&(0,Z.jsx)("div",{className:L,children:(0,Z.jsx)("button",{type:"button",onClick:()=>q(-300),children:(0,Z.jsx)(i.s,{size:28})})}),h&&!y&&(0,Z.jsx)("div",{className:A,children:(0,Z.jsx)("button",{type:"button",onClick:()=>q(300),children:(0,Z.jsx)(l._,{size:28})})})]})}Q.defaultProps={selectedFilter:G,filterStyle:d.P.PILL,filterColor:"accent"}}}]);
//# sourceMappingURL=index.10392372.js.map
