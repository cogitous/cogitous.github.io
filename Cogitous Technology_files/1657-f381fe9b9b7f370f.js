"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1657],{96479:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(26042),o=t(85893),u=t(67294),i=t(7297),a=t(19521);function l(){var n=(0,i.Z)(["\n  width: 100%;\n  min-height: 96px;\n  padding: 12px;\n  color: ",";\n  caret-color: ",";\n  background-color: ",";\n  box-shadow: ",";\n  border: 0;\n  border-radius: 5px;\n  outline: none;\n\n  &:hover {\n    box-shadow: ",";\n  }\n\n  &:focus {\n    box-shadow: ",";\n  }\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return l=function(){return n},n}var d=a.ZP.textarea.withConfig({componentId:"sc-34b4c65d-0"})(l(),function(n){return n.theme.color.text},function(n){return n.theme.color.text},function(n){return n.theme.color.inputBackground},function(n){return n.theme.color.inputBoxShadow},function(n){return n.theme.color.inputBoxShadowHover},function(n){return n.theme.color.inputBoxShadowFocus},function(n){return n.theme.color.inputPlaceholder}),c=(0,u.forwardRef)(function(n,e){return(0,o.jsx)(d,(0,r.Z)({ref:e},n))})},39707:function(n,e,t){t.d(e,{Tn:function(){return u},_4:function(){return o},wf:function(){return r}});var r=function(n){try{return localStorage.getItem(n)}catch(e){return null}},o=function(n,e){try{localStorage.setItem(n,e)}catch(t){}},u=function(n){try{localStorage.removeItem(n)}catch(e){}}},9646:function(n,e,t){var r,o;t.d(e,{o:function(){return r}}),(o=r||(r={})).Number="NUMBER",o.Text="TEXT"},47923:function(n,e,t){t.d(e,{M:function(){return u},f:function(){return o}}),(r=o||(o={})).Metadata="METADATA",r.InputField="INPUT_FIELD",r.HiddenField="HIDDEN_FIELD",r.CalculatedField="CALCULATED_FIELD";var r,o,u=function(n){return Object.values(o).includes(null==n?void 0:n.type)}},36723:function(n,e,t){var r,o,u,i,a,l,d,c,f,s;t.d(e,{Fn:function(){return r},LN:function(){return o},Us:function(){return a},mO:function(){return u},yR:function(){return i}}),(l=r||(r={})).And="AND",l.Or="OR",(d=o||(o={})).Addition="ADDITION",d.Subtraction="SUBTRACTION",d.Multiplication="MULTIPLICATION",d.Division="DIVISION",d.Assignment="ASSIGNMENT",(c=u||(u={})).Is="IS",c.IsNot="IS_NOT",c.Contains="CONTAINS",c.DoesNotContain="DOES_NOT_CONTAIN",c.StartsWith="STARTS_WITH",c.EndsWith="ENDS_WITH",c.IsEmpty="IS_EMPTY",c.IsNotEmpty="IS_NOT_EMPTY",c.Equal="EQUAL",c.NotEqual="NOT_EQUAL",c.GreaterThan="GREATER_THAN",c.LessThan="LESS_THAN",c.GreaterOrEqualThan="GREATER_OR_EQUAL_THAN",c.LessOrEqualThan="LESS_OR_EQUAL_THAN",c.IsBefore="IS_BEFORE",c.IsAfter="IS_AFTER",(f=i||(i={})).Single="SINGLE",f.Group="GROUP",(s=a||(a={})).JumpToPage="JUMP_TO_PAGE",s.Calculate="CALCULATE",s.RequireAnswer="REQUIRE_ANSWER",s.ShowBlocks="SHOW_BLOCKS",s.HideBlocks="HIDE_BLOCKS"},71695:function(n,e,t){var r,o;t.d(e,{F:function(){return r}}),(o=r||(r={})).AED="AED",o.AUD="AUD",o.BGN="BGN",o.BRL="BRL",o.CAD="CAD",o.CHF="CHF",o.CNY="CNY",o.CZK="CZK",o.DKK="DKK",o.EUR="EUR",o.GBP="GBP",o.HKD="HKD",o.HRK="HRK",o.HUF="HUF",o.IDR="IDR",o.ILS="ILS",o.INR="INR",o.ISK="ISK",o.JPY="JPY",o.KRW="KRW",o.MAD="MAD",o.MXN="MXN",o.MYR="MYR",o.NOK="NOK",o.NZD="NZD",o.PHP="PHP",o.PLN="PLN",o.RON="RON",o.RSD="RSD",o.RUB="RUB",o.SAR="SAR",o.SEK="SEK",o.SGD="SGD",o.THB="THB",o.TWD="TWD",o.UAH="UAH",o.USD="USD",o.VND="VND",o.ZAR="ZAR"},25626:function(n,e,t){t.d(e,{_:function(){return r},s:function(){return o}});var r=function(n,e){return!!e&&!!e.isRequired&&(null==e?void 0:e.isRequired)&&(e.titleBlockUuid===n||!e.titleBlockUuid&&e.isRequiredBlockUuid===n)},o=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],o=!1,u=!0,i=!1,a=void 0;try{for(var l,d=n[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var c=l.value;if(o||c.uuid===e)o=!0;else{r.push(c);continue}if(o&&t.includes(c.type)){r.push(c);continue}}}catch(f){i=!0,a=f}finally{try{u||null==d.return||d.return()}finally{if(i)throw a}}return r}},95e3:function(n,e,t){t.d(e,{$V:function(){return d},Bx:function(){return s},T4:function(){return f},mS:function(){return c},qr:function(){return p},xq:function(){return l},yX:function(){return i}});var r=t(44431),o=t(71695),u=t(60632),i=function(n){switch(n){case o.F.BRL:return"R$ ";case o.F.EUR:return"€";case o.F.GBP:return"\xa3";case o.F.HKD:return"HK$ ";case o.F.ILS:return"₪ ";case o.F.INR:return"₹ ";case o.F.KRW:return"₩ ";case o.F.MYR:return"RM ";case o.F.PHP:return"₱ ";case o.F.TWD:return"元 ";case o.F.USD:return"$"}return null},a=function(n){switch(n){case o.F.AED:case o.F.AUD:case o.F.BGN:case o.F.CAD:case o.F.CHF:case o.F.CNY:case o.F.DKK:case o.F.HRK:case o.F.IDR:case o.F.ISK:case o.F.JPY:case o.F.MXN:case o.F.NOK:case o.F.NZD:case o.F.RON:case o.F.RSD:case o.F.SEK:case o.F.SGD:case o.F.THB:case o.F.UAH:case o.F.ZAR:return" ".concat(n);case o.F.CZK:return" Kč";case o.F.HUF:return" Ft";case o.F.MAD:return" .د.م.";case o.F.PLN:return" zł";case o.F.RUB:return" p.";case o.F.SAR:return" ﷼";case o.F.VND:return" ₫"}return null},l=function(n,e){return n?[o.F.JPY,o.F.KRW,o.F.VND].includes(e)?parseFloat(n):new r.BigNumber(n).times(100).toNumber():0},d=function(n,e){var t=0;return t=[o.F.JPY,o.F.KRW,o.F.VND].includes(e)?Number(n):Number(n/100),(0,u.A)(t)},c=function(n,e){return{value:d(n,e),currency:{value:e,prefix:i(e),suffix:a(e)}}},f=function(n,e){var t=i(e),r=a(e);return"".concat(null!=t?t:"").concat(n).concat(null!=r?r:"")},s=function(n,e){var t,r,o=c(n,e);return"".concat(null!==(t=o.currency.prefix)&&void 0!==t?t:"").concat(o.value).concat(null!==(r=o.currency.suffix)&&void 0!==r?r:"")},p=function(n,e){var t=d(n,e);return l(t,e)}},68836:function(n,e,t){t.d(e,{X:function(){return a},_:function(){return i}});var r,o=t(47568),u=t(20414),i=function(n){return new Promise(function(e){return setTimeout(e,n)})},a=(r=(0,o.Z)(function(n){var e,t=arguments;return(0,u.__generator)(this,function(r){switch(r.label){case 0:e=t.length>1&&void 0!==t[1]?t[1]:250,r.label=1;case 1:if(n())return[3,3];return[4,i(e)];case 2:return r.sent(),[3,1];case 3:return[2]}})}),function(n){return r.apply(this,arguments)})},11167:function(n,e,t){t.d(e,{In:function(){return f},VN:function(){return s},WW:function(){return c},cO:function(){return y},dV:function(){return v},m8:function(){return p}});var r=t(8773),o=t(2466),u=t(47923),i=t(36723),a=t(25626),l=t(49386),d=t(14045),c=function(){return{uuid:(0,r.Z)()}},f=function(){return{uuid:(0,r.Z)()}},s=function(n,e){var t=[],r=[];return(null==e?void 0:e.beforeBlockUuid)&&(n=(0,a.s)(n,e.beforeBlockUuid,null==e?void 0:e.alwaysIncludeBlockTypes)),(null==e?void 0:e.filterOutBlockTypes)&&e.filterOutBlockTypes.length>0&&(n=n.filter(function(n){var t=n.type;return!1===e.filterOutBlockTypes.includes(t)})),(null==e?void 0:e.includeMetadata)&&(t.push({uuid:"id",type:u.f.Metadata,questionType:o.k.FormTitle,blockGroupUuid:"id",title:"id"}),t.push({uuid:"respondentId",type:u.f.Metadata,questionType:o.k.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"}),t.push({uuid:"formName",type:u.f.Metadata,questionType:o.k.FormTitle,blockGroupUuid:"formName",title:"formName"})),n.forEach(function(e){if(!r.includes(e.groupUuid)){if(e.type===o.k.CalculatedFields)e.payload.calculatedFields.filter(function(n){return n.name&&n.type}).forEach(function(n){t.push({uuid:n.uuid,type:u.f.CalculatedField,questionType:o.k.CalculatedFields,blockGroupUuid:e.groupUuid,title:n.name||"",calculatedFieldType:n.type})});else if(e.type===o.k.HiddenFields)e.payload.hiddenFields.forEach(function(n){t.push({uuid:n.uuid,type:u.f.HiddenField,questionType:o.k.HiddenFields,blockGroupUuid:e.groupUuid,title:n.name||""})});else{var i=(0,l.Z9)(e,n);i&&t.push({uuid:i.blockGroupUuid,type:u.f.InputField,questionType:i.type,blockGroupUuid:i.blockGroupUuid,title:(0,d.CL)(i.title||"")})}r.push(e.groupUuid)}}),t},p=function(n,e){var t=n.title;return n.type===u.f.Metadata&&(t=e("form-builder.mention-menu.metadata.".concat(n.uuid))),t},v=function(n,e,t){var r=!1,u=!0,a=!1,l=void 0;try{for(var d,c,f=(null!==(d=n.conditionals)&&void 0!==d?d:[])[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var s,p,y,h,m,g=c.value;if((null===(s=g.payload)||void 0===s?void 0:null===(p=s.field)||void 0===p?void 0:p.blockGroupUuid)&&t.includes(g.payload.field.blockGroupUuid)||(null===(y=g.payload)||void 0===y?void 0:null===(h=y.value)||void 0===h?void 0:h.blockGroupUuid)&&t.includes(g.payload.value.blockGroupUuid)||g.type===i.yR.Group&&(null===(m=g.payload)||void 0===m?void 0:m.conditionals)&&(r=v(g.payload,e,t)))return!0}}catch(N){a=!0,l=N}finally{try{u||null==f.return||f.return()}finally{if(a)throw l}}var k=!0,T=!1,b=void 0;try{for(var F,S,E=(null!==(F=n.actions)&&void 0!==F?F:[])[Symbol.iterator]();!(k=(S=E.next()).done);k=!0){var A,U,D,O,R,I,x,w,C,B,M,H=S.value;if((null===(A=H.payload)||void 0===A?void 0:A.requireAnswer)&&t.includes(H.payload.requireAnswer))return!0;if((null===(U=H.payload)||void 0===U?void 0:null===(D=U.calculate)||void 0===D?void 0:null===(O=D.field)||void 0===O?void 0:O.blockGroupUuid)&&t.includes(H.payload.calculate.field.blockGroupUuid))return!0;if((null===(R=H.payload)||void 0===R?void 0:null===(I=R.calculate)||void 0===I?void 0:null===(x=I.value)||void 0===x?void 0:x.blockGroupUuid)&&t.includes(H.payload.calculate.value.blockGroupUuid))return!0;else if((null===(w=H.payload)||void 0===w?void 0:w.showBlocks)&&H.payload.showBlocks.some(function(n){return n===e.uuid}))return!0;else if((null===(C=H.payload)||void 0===C?void 0:C.hideBlocks)&&H.payload.hideBlocks.some(function(n){return n===e.uuid}))return!0;else if((null===(B=H.payload)||void 0===B?void 0:B.jumpToPage)===e.uuid||(null===(M=H.payload)||void 0===M?void 0:M.jumpToPage)&&e.type===o.k.PageBreak)return!0}}catch(L){T=!0,b=L}finally{try{k||null==E.return||E.return()}finally{if(T)throw b}}return r},y=function(n,e){var t=!0,r=!1,o=void 0;try{for(var u,i=n.calculatedFields[Symbol.iterator]();!(t=(u=i.next()).done);t=!0){var a,l=u.value;if((null===(a=l.value)||void 0===a?void 0:a.blockGroupUuid)&&e.includes(l.value.blockGroupUuid))return!0}}catch(d){r=!0,o=d}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}return!1}},15719:function(n,e,t){t.d(e,{U:function(){return d},x:function(){return c}});var r=t(26042),o=t(69396),u=t(46956),i=t(2466),a=t(57661),l=t(14045),d=function(n){var e=[],t=[];return n.forEach(function(d){var c,f,s,p=d.type,v=d.groupUuid,y=d.groupType;u.$v.includes(p)?(t.push(v),e.push((0,o.Z)((0,r.Z)({},d),{payload:(0,o.Z)((0,r.Z)({},d.payload),{html:(0,a.Du)(d.payload.safeHTMLSchema,!0)})}))):y===i.k.Dropdown?!1===t.includes(v)&&(t.push(v),e.push((0,o.Z)((0,r.Z)({},d),{uuid:d.groupUuid,type:d.groupType,payload:(0,o.Z)((0,r.Z)({},d.payload),{placeholder:d.payload.placeholder?(0,l.CL)(d.payload.placeholder):null,options:n.filter(function(n){return n.groupUuid===v}).map(function(n){return{value:n.uuid,text:n.payload.text?(0,l.CL)(n.payload.text):"",image:null!==(c=n.payload.image)&&void 0!==c?c:null}})})}))):[i.k.MultipleChoice,i.k.Checkboxes].includes(y)?((null==d?void 0:null===(f=d.payload)||void 0===f?void 0:f.text)&&(d.payload.text=(0,l.CL)(d.payload.text)),t.push(v),e.push(d)):((null==d?void 0:null===(s=d.payload)||void 0===s?void 0:s.placeholder)&&(d.payload.placeholder=(0,l.CL)(d.payload.placeholder)),t.push(v),e.push(d))}),e},c=function(n){var e=[],t=[];return n.forEach(function(n){n.type!==i.k.PageBreak?t.push(n):(e.push(t),t=[])}),t.length>0&&e.push(t),e}},18515:function(n,e,t){t.d(e,{C7:function(){return x},Ee:function(){return m},J0:function(){return w},Jc:function(){return b},KN:function(){return S},MZ:function(){return C},Md:function(){return O},O2:function(){return I},O6:function(){return D},Sz:function(){return L},Tp:function(){return M},X1:function(){return H},bZ:function(){return R},bm:function(){return E},cz:function(){return U},iM:function(){return N},lL:function(){return A},lo:function(){return T},mh:function(){return P},sy:function(){return F},zp:function(){return k}});var r=t(66671),o=t(78420),u=t(8773),i=t(46956),a=t(2466),l=t(9646),d=t(47923),c=t(49386),f=t(49223),s=t(11167),p=t(15719),v=t(71218),y=t(71574),h=t(39707),m=function(n,e,t){if(void 0===e)return"";if(n===a.k.Checkboxes)return t.filter(function(n){return e.includes(n.uuid)}).map(function(n){return n.payload.text}).join(", ");if([a.k.MultipleChoice,a.k.Dropdown].includes(n)){var u,i;return null!==(i=null===(u=t.find(function(n){return n.uuid===e}))||void 0===u?void 0:u.payload.text)&&void 0!==i?i:""}return n===a.k.InputDate?(0,r.Z)((0,o.Z)(e),"MMMM d, yyyy"):e},g=function(n,e,t){if(!e)return"";if(n===a.k.Checkboxes)return t.filter(function(n){return e.includes(n.uuid)}).map(function(n){return n.payload.text}).join(", ");if([a.k.MultipleChoice,a.k.Dropdown].includes(n)){var r,o;return null!==(o=null===(r=t.find(function(n){return n.uuid===e}))||void 0===r?void 0:r.payload.text)&&void 0!==o?o:""}return e},N=function(n,e,t,r){if("string"==typeof t){if(e===a.k.Checkboxes){var o,u,i=r.filter(function(e){return e.groupUuid===n&&e.payload.text===t}).map(function(n){return n.uuid});if(i.length>0)return i;if(t.includes(",")){var l=t.split(/,\s?/);return(i=r.filter(function(e){return e.groupUuid===n&&l.includes(e.payload.text)}).map(function(n){return n.uuid})).length>0?i:void 0}return}if([a.k.MultipleChoice,a.k.Dropdown].includes(e))return null!==(u=null===(o=r.find(function(e){return e.groupUuid===n&&e.payload.text===t}))||void 0===o?void 0:o.uuid)&&void 0!==u?u:void 0}},k=function(n,e){var t=void 0;return e.type===d.f.InputField?t=n[e.uuid]:[d.f.CalculatedField,d.f.HiddenField].includes(e.type)&&e.blockGroupUuid&&e.uuid&&(t=n[e.blockGroupUuid]?n[e.blockGroupUuid][e.uuid]:""),t},T=function(n,e,t){var r=k(n,e);return i.FW.includes(e.questionType)&&(r=g(e.questionType,r,t)),r},b=function(n,e,t,r){return(0,d.M)(n)&&(n=T(t,n,r)),e!==l.o.Number||isNaN(parseFloat(n))||(n=parseFloat(n)),n},F=function(n){var e={};new URLSearchParams(location.search).forEach(function(n,t){e[t]=n});var t={};return n.filter(function(n){return n.type===a.k.HiddenFields}).forEach(function(n){var r=n.groupUuid;n.payload.hiddenFields.forEach(function(n){(null==n?void 0:n.name)&&void 0!==e[n.name]&&(void 0===t[r]&&(t[r]={}),t[r][n.uuid]=e[n.name])})}),t},S=function(n){var e="FORM_DATA_".concat(n),t=(0,h.wf)(e);return t?JSON.parse(t):{}},E=function(n,e){var t="FORM_DATA_".concat(n);(0,h._4)(t,JSON.stringify(e))},A=function(n){var e="FORM_DATA_".concat(n);(0,h.Tn)(e)},U=function(n){var e={removeBranding:!1};return"1"===n.alignLeft&&(e.alignLeft=!0),"1"===n.transparentBackground&&(e.transparentBackground=!0),"1"===n.hideTitle&&(e.hideTitle=!0),"1"===n.dynamicHeight&&(e.dynamicHeight=!0),"1"===n.embed&&(e.embed=!0),"1"===n.popup&&(e.popup=!0),e},D=function(n){var e="FORM_SESSION_".concat(n),t=(0,h.wf)(e);if(t)return t;var r=(0,u.Z)();return(0,h._4)(e,r),r},O=function(n){var e="FORM_SESSION_".concat(n);(0,h.Tn)(e)},R=function(n){var e="RESPONDENT",t={},r=(0,h.wf)(e);return r&&(t=JSON.parse(r))&&t[n]||(t[n]=(0,u.Z)(),(0,h._4)(e,JSON.stringify(t))),t[n]},I=function(n,e){return 1===n?e[0]:e.filter(function(n){return n.type===a.k.PageBreak})[n-2]},x=function(n,e){var t=e.slice(0,n).reverse().filter(function(n){return n.type===a.k.PageBreak})[0];return null!=t?t:e[0]},w=function(n,e){var t=e.filter(function(n){return[a.k.FormTitle,a.k.PageBreak].includes(n.type)}).findIndex(function(e){return e.uuid===n});return -1===t?null:t+1},C=function(n){var e=!1;return n.filter(function(n){return n.type===a.k.PageBreak}).forEach(function(n){var t=n.payload;(null==t?void 0:t.isThankYouPage)&&(e=!0)}),e},B=function(n){var e=[];return n.forEach(function(n){n.forEach(function(n){var t=n.payload;e.push((null==t?void 0:t.html)||(null==t?void 0:t.placeholder)||"")})}),/password|pa{0,3}s[s|\\*]{0,2}w[0|o|\\*]{0,3}rd|pass\sword|pass\*{1,3}word|jelszó|пароль|kata[\s|-]{0,2}sandi|sandi anda/i.test(e.join(" "))},M=function(n,e,t,r,o,u){var l,d,f,s,p,y,h,m,g,N,k,T=null===(l=t[0])||void 0===l?void 0:null===(d=l.payload)||void 0===d?void 0:d.logo,b=null===(f=t[0])||void 0===f?void 0:null===(s=f.payload)||void 0===s?void 0:s.cover,F=null===(p=t[0])||void 0===p?void 0:null===(y=p.payload)||void 0===y?void 0:y.coverSettings,S=e.length,E=null!==(k=e[n-1])&&void 0!==k?k:[];E=(0,v.dp)(E,t,o,u);var A=(0,v.KZ)(n,E,S,t,o),U=I(n,t),D=!!(null==U?void 0:null===(h=U.payload)||void 0===h?void 0:h.isThankYouPage),O=A?I(A,t):void 0,R=null===A||(null==O?void 0:null===(m=O.payload)||void 0===m?void 0:m.isThankYouPage),x=Array.from((0,c.jZ)(E).values()).filter(function(n){return!1===[a.k.HiddenFields,a.k.CalculatedFields].includes(n.type)}),w=!!(null==r?void 0:r.pageAutoJump)&&!R&&1===x.length&&i.LQ.includes(x[0].type);return{logo:T,cover:b,coverSettings:F,pageBlocks:E,nextPage:A,isCustomThankYouPage:D,isLastInputPage:R,canAutoJumpToNextPage:w,pageFilledIn:x.every(function(n){return void 0!==o[n.blockGroupUuid]}),showButton:!D,buttonLabel:null==U?void 0:null===(g=U.payload)||void 0===g?void 0:null===(N=g.button)||void 0===N?void 0:N.label,showMaliciousFormWarning:B(e)}},H=function(n,e,t,r,o,u){try{var i=[],a=(0,s.VN)((0,p.U)(o)),l=!0,d=!1,c=void 0;try{for(var f,v=a[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){var h=f.value,m=h.uuid,g=h.title,N=h.questionType;i.push({id:m,title:g,type:N,answer:{value:T(u,h,o),raw:k(u,h)}})}}catch(b){d=!0,c=b}finally{try{l||null==v.return||v.return()}finally{if(d)throw c}}return{id:n,formId:t,formName:r,respondentId:e,createdAt:new Date,fields:i}}catch(F){return(0,y.Tb)(F),{}}},L=function(){setTimeout(function(){var n,e,t=null===(n=document.forms[0])||void 0===n?void 0:n.elements[0];t&&(0,f.PZ)(t)&&("INPUT"===t.tagName&&!1===["radio","checkbox"].includes(null!==(e=t.getAttribute("type"))&&void 0!==e?e:"")||"TEXTAREA"===t.tagName)&&t.focus()},100)},P=function(){setTimeout(function(){var n=document.querySelector('[aria-invalid="true"]');if(n){n.focus();return}var e=document.querySelector(".tally-validation-error");e&&!1===(0,f.PZ)(e)&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)}},71218:function(n,e,t){t.d(e,{KZ:function(){return m},VX:function(){return y},dp:function(){return h}});var r=t(26042),o=t(69396),u=t(29815),i=t(3522),a=t.n(i),l=t(46956),d=t(2466),c=t(47923),f=t(36723),s=t(18515),p=t(71574),v=function(n,e){var t=n.type,r=n.payload;if(t===f.yR.Group&&(null==r?void 0:r.conditionals)&&r.logicalOperator)return y(r.conditionals,r.logicalOperator,e);if(t===f.yR.Single&&(null==r?void 0:r.field)&&(null==r?void 0:r.comparison)){var o=r.field,u=r.comparison,i=r.value,l=(0,s.zp)(e,o);(0,c.M)(i)&&(i=(0,s.zp)(e,i));try{switch(u){case f.mO.Is:return void 0!==l&&l===i;case f.mO.IsNot:return void 0!==l&&l!==i;case f.mO.Contains:if(Array.isArray(l))return void 0!==i&&l.includes(i);return void 0!==l&&void 0!==i&&RegExp(a()(i),"i").test(l);case f.mO.DoesNotContain:if(Array.isArray(l))return void 0!==i&&!1===l.includes(i);return void 0!==l&&void 0!==i&&!1===RegExp(a()(i),"i").test(l);case f.mO.StartsWith:return void 0!==l&&void 0!==i&&RegExp("^".concat(a()(i)),"i").test(l);case f.mO.EndsWith:return void 0!==l&&void 0!==i&&RegExp("".concat(a()(i),"$"),"i").test(l);case f.mO.IsEmpty:if(Array.isArray(l))return 0===l.length;return void 0===l||""===l;case f.mO.IsNotEmpty:if(Array.isArray(l))return l.length>0;return void 0!==l&&""!==l;case f.mO.Equal:return Number(l)===Number(i);case f.mO.NotEqual:return Number(l)!==Number(i);case f.mO.GreaterThan:return Number(l)>Number(i);case f.mO.LessThan:return Number(l)<Number(i);case f.mO.GreaterOrEqualThan:return Number(l)>=Number(i);case f.mO.LessOrEqualThan:return Number(l)<=Number(i);case f.mO.IsBefore:if(/^[0-9]{2}:[0-9]{2}$/.test(l))return Date.parse("01/01/2000 ".concat(l))<Date.parse("01/01/2000 ".concat(i));return Date.parse(l)<Date.parse(i);case f.mO.IsAfter:if(/^[0-9]{2}:[0-9]{2}$/.test(l))return Date.parse("01/01/2000 ".concat(l))>Date.parse("01/01/2000 ".concat(i));return Date.parse(l)>Date.parse(i)}}catch(d){(0,p.Tb)(d)}}return!1},y=function(n,e,t){var r=n.map(function(n){return v(n,t)});return e===f.Fn.And&&r.every(function(n){return n})||e===f.Fn.Or&&r.some(function(n){return n})},h=function(n,e,t,i){var a=e.filter(function(n){return n.type===d.k.ConditionalLogic}),c=e.filter(function(n){return n.payload.isHidden}).map(function(n){return n.uuid});if(0===a.length&&0===c.length)return n;var s=(0,u.Z)(n),p=!0,v=!1,h=void 0;try{for(var m,g=a[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var N=m.value.payload,k=N.logicalOperator,T=N.conditionals,b=N.actions;if(y(T,k,t)){var F=!0,S=!1,E=void 0;try{for(var A,U=b[Symbol.iterator]();!(F=(A=U.next()).done);F=!0)!function(){var n,e,t,i,a=A.value;a.type===f.Us.ShowBlocks&&(null===(n=a.payload)||void 0===n?void 0:n.showBlocks)&&(c=c.filter(function(n){var e,t;return(null===(e=a.payload)||void 0===e?void 0:null===(t=e.showBlocks)||void 0===t?void 0:t.includes(n))===!1})),a.type===f.Us.HideBlocks&&(null===(e=a.payload)||void 0===e?void 0:e.hideBlocks)&&(c=(0,u.Z)(c).concat((0,u.Z)(null===(i=a.payload)||void 0===i?void 0:i.hideBlocks))),a.type===f.Us.RequireAnswer&&(null===(t=a.payload)||void 0===t?void 0:t.requireAnswer)&&(s=s.map(function(n){var e,t;return(null===(e=a.payload)||void 0===e?void 0:null===(t=e.requireAnswer)||void 0===t?void 0:t.includes(n.groupUuid))?(0,o.Z)((0,r.Z)({},n),{payload:(0,o.Z)((0,r.Z)({},n.payload),{isRequired:!0})}):n}))}()}catch(D){S=!0,E=D}finally{try{F||null==U.return||U.return()}finally{if(S)throw E}}}}}catch(O){v=!0,h=O}finally{try{p||null==g.return||g.return()}finally{if(v)throw h}}if(c.length>0){s=s.filter(function(n){return!1===c.includes(n.uuid)});var R=[];if(e.forEach(function(n){var e=n.uuid,r=n.groupUuid,o=n.type,a=n.payload;if(!(!1===c.includes(e)||l.TI.includes(o))&&([d.k.DropdownOption,d.k.MultipleChoiceOption,d.k.Checkbox,].includes(o)&&R.push(r),void 0!==t[r]&&!(a.hasDefaultAnswer&&void 0!==a.defaultAnswer))){if(o===d.k.Checkbox){if(Array.isArray(t[r])&&t[r].includes(e)){var f=(0,u.Z)(t[r]);f.splice(f.indexOf(e),1),i(r,f)}}else[d.k.DropdownOption,d.k.MultipleChoiceOption].includes(o)?t[r]===e&&i(r,void 0):o!==d.k.Payment&&i(r,void 0)}}),R.length>0){var I=new Map;s=s.map(function(n){if(R.includes(n.groupUuid)&&n.type===d.k.Dropdown)return(0,o.Z)((0,r.Z)({},n),{payload:(0,o.Z)((0,r.Z)({},n.payload),{options:n.payload.options.filter(function(n){var e=n.value;return!1===c.includes(e)})})});if(R.includes(n.groupUuid)&&[d.k.MultipleChoiceOption,d.k.Checkbox].includes(n.type)){I.get(n.groupUuid)||I.set(n.groupUuid,{firstBlockUuid:s.find(function(e){return e.groupUuid===n.groupUuid}).uuid,lastBlockUuid:(0,u.Z)(s).reverse().find(function(e){return e.groupUuid===n.groupUuid}).uuid});var e=I.get(n.groupUuid),t=e.firstBlockUuid,i=e.lastBlockUuid;return(0,o.Z)((0,r.Z)({},n),{payload:(0,o.Z)((0,r.Z)({},n.payload),{isFirst:t===n.uuid,isLast:i===n.uuid})})}return n}).filter(function(n){return!(n.type===d.k.Dropdown&&0===n.payload.options.length)})}}return s},m=function(n,e,t,r,o){var u=n+1,i=e.filter(function(n){return n.type===d.k.ConditionalLogic});if(0===i.length)return u&&u<=t?u:null;var a=!0,l=!1,c=void 0;try{for(var p,v=i[Symbol.iterator]();!(a=(p=v.next()).done);a=!0){var h=p.value.payload,m=h.logicalOperator,g=h.conditionals,N=h.actions;if(y(g,m,o)){var k=!0,T=!1,b=void 0;try{for(var F,S=N[Symbol.iterator]();!(k=(F=S.next()).done);k=!0){var E,A,U,D,O=F.value;O.type===f.Us.JumpToPage&&void 0!==(null===(E=O.payload)||void 0===E?void 0:E.jumpToPage)&&(u=(null===(A=O.payload)||void 0===A?void 0:null===(U=A.jumpToPage)||void 0===U?void 0:U.toString())==="0"?null:"number"==typeof(null===(D=O.payload)||void 0===D?void 0:D.jumpToPage)?O.payload.jumpToPage:(0,s.J0)(O.payload.jumpToPage,r))}}catch(R){T=!0,b=R}finally{try{k||null==S.return||S.return()}finally{if(T)throw b}}}}}catch(I){l=!0,c=I}finally{try{a||null==v.return||v.return()}finally{if(l)throw c}}return u&&u<=t?u:null}},60632:function(n,e,t){t.d(e,{A:function(){return r}});var r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return n===parseInt(n.toString(),10)?n.toString():n.toFixed(e)}},57661:function(n,e,t){t.d(e,{Bz:function(){return g},CX:function(){return b},Du:function(){return y},F2:function(){return m},cd:function(){return N},dZ:function(){return k},jW:function(){return h},nf:function(){return v},xB:function(){return T}});var r=t(828),o=t(8773),u=t(2466),i=t(9646),a=t(47923),l=t(49223),d=t(11167),c=t(18515),f=t(60632),s=t(14045),p=t(26111),v=function(n){var e=[];return n&&n.forEach&&0!==n.length&&n.forEach(function(n){if(n.nodeType===Node.TEXT_NODE&&n.textContent)e.push([(0,s.oJ)(n.textContent)]);else if(n.nodeType===Node.ELEMENT_NODE&&(n.childNodes.length>0||"BR"===n.nodeName)){var t,r,o,u,i,a=[];switch(n.nodeName){case"B":a.push(["font-weight","bold"]);break;case"U":a.push(["text-decoration","underline"]);break;case"I":a.push(["font-style","italic"]);break;case"A":var l=n.href;((null==l?void 0:l.match(/^http(s)?:\/\//))||(null==l?void 0:l.match(/^mailto:/))||(null==l?void 0:l.match(/^tel:/))||(null==l?void 0:l.match(/^sms:/)))&&a.push(["href",l]);break;case"FONT":var d=n.color;(null==d?void 0:d.match(/#[0-9a-fA-F]{3,6}/))&&a.push(["color",d]);break;case"DIV":a.push(["tag","div"]);break;case"P":a.push(["tag","p"]);break;case"BR":a.push(["tag","br"])}var c=n.style;if(((null==c?void 0:null===(t=c.color)||void 0===t?void 0:t.match(/#[0-9a-fA-F]{3,6}/))||(null==c?void 0:null===(r=c.color)||void 0===r?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.color)==="inherit")&&a.push(["color",c.color]),((null==c?void 0:null===(o=c.backgroundColor)||void 0===o?void 0:o.match(/#[0-9a-fA-F]{3,6}/))||(null==c?void 0:null===(u=c.backgroundColor)||void 0===u?void 0:u.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.backgroundColor)==="inherit")&&a.push(["background-color",c.backgroundColor]),null==c?void 0:c.fontWeight){var f=null==c?void 0:c.fontWeight;["bolder","lighter"].includes(f)&&(f="bold"),a.push(["font-weight",f])}(null==c?void 0:c.fontStyle)&&a.push(["font-style",c.fontStyle]),(null==c?void 0:c.textDecoration)&&a.push(["text-decoration",c.textDecoration]),(null==c?void 0:c.display)&&a.push(["display",c.display]),"SPAN"===n.nodeName&&(null===(i=n.className)||void 0===i?void 0:i.indexOf("mention"))!==-1&&a.push(["mention",n.dataset.uuid]),a.length>0&&(1===n.childNodes.length&&n.childNodes[0].nodeType===Node.TEXT_NODE&&n.childNodes[0].textContent?e.push([(0,s.oJ)(n.childNodes[0].textContent),a,]):"BR"===n.nodeName?e.push(["",a]):e.push([v(n.childNodes),a,]))}}),e},y=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t="";return n.forEach(function(n){var o=(0,r.Z)(n,2),u=o[0],i=o[1];if("string"==typeof u&&!i){t+=u;return}if(i&&i.length>0){var a="span",l=[],d=[];i.forEach(function(n){var t=(0,r.Z)(n,2),o=t[0],i=t[1];"tag"===o&&"div"===i?a="div":"tag"===o&&"p"===i?a="p":"tag"===o&&"br"===i?(a="br",u=""):"href"===o?(a="a",d.push('href="'.concat(i,'"')),d.push('target="_blank"'),d.push('rel="noreferrer"')):"mention"===o?(d.push('class="mention"'),d.push('contenteditable="false"'),d.push('data-uuid="'.concat(i,'"')),e&&(u="")):l.push("".concat(o,": ").concat(i,";"))}),l.length>0&&d.push('style="'.concat(l.join(" "),'"')),"br"===a?t+="<br>":t+="<".concat(a," ").concat(d.join(" "),">").concat("string"==typeof u?u:y(u,e),"</").concat(a,">")}}),t},h=function(n){var e=document.createElement("div");return e.innerHTML=n,y(v(e.childNodes))},m=function(n,e,t,r){if("undefined"==typeof document)return"";var o=y(n.safeHTMLSchema);o=o.replace(/\u200B/g,"");var l=document.createElement("div");l.innerHTML=o;var d=!0,s=!1,v=void 0;try{for(var h,m=n.mentions[Symbol.iterator]();!(d=(h=m.next()).done);d=!0)!function(){var n,o=h.value,d=o.uuid,s=o.field,p=o.defaultValue,v=l.querySelectorAll('[data-uuid="'.concat(d,'"]'));if(0===v.length)return"continue";var y=s.uuid,m=s.type,g=s.questionType,N=s.blockGroupUuid,k=s.calculatedFieldType,T="";m===a.f.Metadata?T=r[y]:m===a.f.InputField&&g&&N?T=g===u.k.InputDate?null!==(n=t[N])&&void 0!==n?n:"":(0,c.Ee)(g,t[N],e):[a.f.CalculatedField,a.f.HiddenField].includes(m)&&y&&N&&(T=t[N]?t[N][y]:""),m===a.f.CalculatedField&&k===i.o.Number&&"number"==typeof T&&(T=(0,f.A)(T,2)),(l.textContent.startsWith("http")||l.textContent.startsWith("www."))&&!("string"==typeof T&&-1!==T.indexOf("/"))&&(T=encodeURIComponent(T)),v.forEach(function(n){n.innerHTML=(null==T?void 0:T.toString())||p||""})}()}catch(g){s=!0,v=g}finally{try{d||null==m.return||m.return()}finally{if(s)throw v}}return(0,p.A9)(l.textContent,!0)},g=function(n){return!(n&&Array.isArray(null==n?void 0:n.safeHTMLSchema))||0===(0,s.Vt)(y(n.safeHTMLSchema)).length},N=function(){var n=document.createElement("div");return n.innerHTML="Tally Forms",{safeHTMLSchema:v(n.childNodes),mentions:[]}},k=function(n){var e=(0,d.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid}),t=F("Form name",e),r=t.mentionObj,o=t.mentionHtml,u=document.createElement("div");return u.innerHTML="New Tally Form Submission for ".concat(o),{safeHTMLSchema:v(u.childNodes),mentions:[r]}},T=function(n){var e=[],t=(0,d.VN)(n),r="",o=!0,u=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var c=a.value,f=F(c.title,c),s=f.mentionObj,p=f.mentionHtml;r+="<div><b>".concat(c.title,"</b></div><div>").concat(p,"</div><br/>"),e.push(s)}}catch(y){u=!0,i=y}finally{try{o||null==l.return||l.return()}finally{if(u)throw i}}var h=document.createElement("div");return h.innerHTML=r,{safeHTMLSchema:v(h.childNodes),mentions:e}},b=function(n){var e=[],t="",r=(0,d.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid}),o=F("Form name",r),u=o.mentionObj,i=o.mentionHtml;t+="<div>New submission for *".concat(i,"*.</div><br/>"),e.push(u);var a=!0,l=!1,c=void 0;try{for(var f,s=(0,d.VN)(n)[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var p=f.value,y=F(p.title,p),h=y.mentionObj,m=y.mentionHtml;t+="<div>*".concat(p.title,"*: ").concat(m,"</div>"),e.push(h)}}catch(g){l=!0,c=g}finally{try{a||null==s.return||s.return()}finally{if(l)throw c}}var N=document.createElement("div");return N.innerHTML=t,{safeHTMLSchema:v(N.childNodes),mentions:e}},F=function(n,e){var t=(0,o.Z)();return{mentionObj:{uuid:t,field:e},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(t,'">@').concat(n,"</span>").concat((0,l.G6)()?"​":"")}}}}]);