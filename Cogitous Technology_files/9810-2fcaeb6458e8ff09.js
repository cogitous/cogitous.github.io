"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9810],{24483:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(85893),o=t(39345),i=t(77058),s=t(7297),a=t(19521);function l(){var e=(0,s.Z)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  text-align: center;\n  max-width: 100%;\n  margin: ",";\n\n  svg {\n    color: ",";\n    margin-bottom: ",";\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,s.Z)(["\n  font-weight: bold;\n  margin-bottom: ",";\n"]);return u=function(){return e},e}function c(){var e=(0,s.Z)(["\n  max-width: 600px;\n  font-size: 14px;\n  line-height: 1.5;\n\n  ","\n"]);return c=function(){return e},e}var d=a.ZP.div.withConfig({componentId:"sc-f7f6754e-0"})(l(),function(e){return e.theme.spacing.md},function(e){return e.theme.color.textGrayscale4},function(e){return e.theme.spacing.lg}),f=a.ZP.div.withConfig({componentId:"sc-f7f6754e-1"})(u(),function(e){return e.theme.spacing.sm}),m=a.ZP.div.withConfig({componentId:"sc-f7f6754e-2"})(c(),function(e){var n=e.theme;return e.hasButton&&"\n    margin-bottom: ".concat(n.spacing.lg,";\n  ")}),p=function(e){var n=e.title,t=e.description,s=e.icon,a=e.button,l=(0,i.$)().t,u=null!=s?s:o.Z;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{size:56}),(0,r.jsx)(f,{children:null!=n?n:l("error.title")}),(0,r.jsx)(m,{hasButton:!!a,children:null!=t?t:l("error.description")}),a]})}},39810:function(e,n,t){t.d(n,{Z:function(){return eh}});var r=t(47568),o=t(14924),i=t(26042),s=t(69396),a=t(29815),l=t(20414),u=t(85893),c=t(67294),d=t(44309),f=t(82371),m=t(45169),p=t(77058),g=t(5152),h=t.n(g),v=t(23279),y=t.n(v),b=t(32479),w=t(2466),x=t(86351),Z=t(61570),I=t(49223),j=t(68836),k=t(18515),S=t(78888),C=t(67182),T=t(72690),P=t(57661),_=t(75858),O=t(96471),F=0,N=!1,D=function(){return!!(window&&window.fbq)},E=function(e){D()?e():++F<5?setTimeout(function(){E(e)},1e3*F+100):N=!0},L=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D()?fbq("trackCustom",e,n):N||E(function(){L(e,n)})},U=0,A=!1,B=function(){return!!(window&&window.gtag)},H=function(e){B()?e():++U<5?setTimeout(function(){H(e)},1e3*U+100):A=!0},M=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B()?gtag("event",e,(0,s.Z)((0,i.Z)({},n),{non_interaction:!0})):A||H(function(){M(e,n)})},J=t(71574),V=t(58043),R=function(e,n){(0,c.useEffect)(function(){if(n.isCustomDomain&&document&&document.querySelectorAll){var e=document.querySelectorAll("form a");e&&0!==e.length&&e.forEach&&e.forEach(function(e){var n;e&&e.getAttribute&&0===(null!==(n=e.getAttribute("href"))&&void 0!==n?n:"").indexOf(window.location.origin)&&"_blank"===e.getAttribute("target")&&e.removeAttribute("target")})}},[e])},Y=t(71861),z=t(54347),q=t(81483),G=t(17737),W=(0,c.forwardRef)(function(e,n){var t=e.value,r=e.type,o=e.icon,a=e.iconPosition,l=void 0===a?"left":a,c=e.isLoading,d=void 0!==c&&c,f=null!=o?o:null;return(0,u.jsxs)(G.W2,(0,s.Z)((0,i.Z)({ref:n,type:void 0===r?"button":r,disabled:d},e),{children:[d&&(0,u.jsx)(G.ly,{children:(0,u.jsx)(q.Z,{size:16})}),(0,u.jsxs)(G.VY,{isLoading:d,children:[f&&"left"===l&&(0,u.jsx)(f,{size:16}),t&&(0,u.jsx)("span",{children:t}),f&&"right"===l&&(0,u.jsx)(f,{size:16})]})]}))}),X=t(24483),$=t(35287),Q=t(59556),K=t(35084),ee=t(38271),en=t(32974),et=t(69933),er=t(7297),eo=t(19521);function ei(){var e=(0,er.Z)(["\n  display: flex;\n  background: ",";\n\n  ","\n"]);return ei=function(){return e},e}function es(){var e=(0,er.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: auto;\n  min-height: 100vh;\n\n  ","\n\n  ","\n"]);return es=function(){return e},e}var ea=eo.ZP.div.withConfig({componentId:"sc-406070ce-0"})(ei(),function(e){return e.theme.color.background},function(e){return e.styles.transparentBackground&&"\n    background: transparent;\n  "}),el=eo.ZP.main.withConfig({componentId:"sc-406070ce-1"})(es(),function(e){var n=e.styles;return(n.popup||n.embed&&n.dynamicHeight)&&"\n    height: auto;\n    min-height: auto;\n  "},function(e){var n=e.styles;return(n.popup||n.embed&&n.dynamicHeight)&&n.lastPageHeight&&"\n    min-height: ".concat(n.lastPageHeight,"px;\n  ")}),eu=function(e){var n=e.metaData,t=e.integrations,r=e.styles,o=e.children;return(0,u.jsx)(c.Fragment,{children:(0,u.jsxs)(ea,{className:"tally-app",styles:r,children:[(0,u.jsx)(et.Z,{metaData:n,integrations:t}),(0,u.jsx)(el,{styles:r,children:o})]})})},ec=t(19229),ed=h()(function(){return t.e(74).then(t.bind(t,70074))},{loadableGenerated:{webpack:function(){return[70074]}},ssr:!1}),ef=!1,em=!0,ep=!1,eg={},eh=function(e){var n,t,g,h,v=e.formId,F=e.workspaceId,N=e.name,E=e.blocks,U=e.pages,A=e.isClosed,H=e.isPreview,q=e.settings,G=e.metaData,et=e.integrations,er=e.styles,eo=e.hasActiveSubscription,ei=e.hasError,es=e.isNotFoundError,ea=(0,p.$)().t,el=(0,c.useState)(!1),eh=el[0],ev=el[1],ey=(0,c.useState)({}),eb=ey[0],ew=ey[1],ex=(0,c.useState)(),eZ=ex[0],eI=ex[1],ej=(0,c.useState)(1),ek=ej[0],eS=ej[1],eC=(0,c.useState)([1]),eT=eC[0],eP=eC[1],e_=(0,c.useState)(!1),eO=e_[0],eF=e_[1],eN=(0,c.useState)(!1),eD=eN[0],eE=eN[1],eL=(0,c.useState)({}),eU=eL[0],eA=eL[1],eB=(0,c.useMemo)(function(){return(0,k.O6)(v)},[]),eH=(0,c.useMemo)(function(){return(0,k.bZ)(F)},[]),eM=(0,Y.Z)({mode:"respond",formId:v,blocks:E,settings:q,page:ek,pages:U,pageHistory:eT}),eJ=eM.formData,eV=eM.onChangeFormData,eR=(0,k.Tp)(ek,U,E,q,eJ,eV),eY=eR.logo,ez=eR.cover,eq=eR.coverSettings,eG=eR.pageBlocks,eW=eR.nextPage,eX=eR.isCustomThankYouPage,e$=eR.isLastInputPage,eQ=eR.canAutoJumpToNextPage,eK=eR.pageFilledIn,e0=eR.showButton,e1=eR.buttonLabel,e2=eR.showMaliciousFormWarning;G=(0,s.Z)((0,i.Z)({},G),{isFormRespondPage:!0,isFormEmbedded:(0,I.yL)(),title:G.title||N||ea("title.form"),description:G.description||(er.removeBranding?"":ea("description.respond")),imageUrl:G.imageUrl||ez||"",font:(null==q?void 0:null===(t=q.styles)||void 0===t?void 0:t.font)||void 0,doNotTrack:H,doNotSearchIndex:!G.isCustomDomain}),er.withMedia=!!eY||!!ez;var e4,e7,e3,e5,e6,e8=!eh&&!er.removeBranding,e9=function(){if((0,_.B)(_.I.TallyFormPageView,{formId:v,page:ek}),(0,I.yL)()){var e;null===(e=window.parent)||void 0===e||e.postMessage(JSON.stringify({event:_.I.TallyFormPageView,payload:{formId:v,page:ek}}),"*")}B()&&M(_.I.TallyFormPageView,{event_category:window.location.pathname,event_label:"Page ".concat(ek)}),D()&&L(_.I.TallyFormPageView,{content_category:window.location.pathname,value:ek})},ne=function(e,n){var t,r=(0,k.X1)(e,n,v,N,E,eJ);(0,_.B)(_.I.TallyFormSubmitted,r),(0,I.yL)()&&(null===(t=window.parent)||void 0===t||t.postMessage(JSON.stringify({event:_.I.TallyFormSubmitted,payload:r}),"*")),B()&&M(_.I.TallyFormSubmitted,{event_category:window.location.pathname,event_label:N}),D()&&L(_.I.TallyFormSubmitted,{content_category:window.location.pathname,content_name:N})},nn=function(e){var n=U[e-1];if(n){var t=n.filter(function(e){return e.type===w.k.Captcha}).map(function(e){return e.groupUuid});if(0!==t.length){var r=!1,o=(0,i.Z)({},eU),s=!0,a=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;o[d]&&((0,_.B)(_.I.CaptchaReset,{response:o[d].response}),delete o[d],r=!0)}}catch(f){a=!0,l=f}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}r&&eA(o)}}},nt=function(e){eS(e),null==window||window.scrollTo(0,0)},nr=function(){if(eD&&eE(!1),eh){ev(!1);return}var e=eT[eT.length-2];e&&(eP(eT.slice(0,-1)),nt(e))},no=function(e){var n=0,t=!0,r=!1,o=void 0;try{for(var i,s=U[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var a=i.value;if(n++,a.find(function(n){return n.groupUuid===e})){var l=eT.indexOf(n);return -1!==l&&eP(eT.slice(0,l+1)),nt(n),n}}}catch(u){r=!0,o=u}finally{try{t||null==s.return||s.return()}finally{if(r)throw o}}return null},ni=(e4=(0,r.Z)(function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:if(H||ep)return[2];ep=!0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,O.ZP.post("/forms/".concat(v,"/respond"),{sessionUuid:eB,respondentUuid:eH,responses:eg,isCompleted:!1})];case 2:case 3:return e.sent(),[3,4];case 4:return em=!1,ep=!1,eg={},[2]}})}),function(){return e4.apply(this,arguments)}),ns=(0,c.useRef)(y()(ni,1e3)).current,na=(e7=(0,r.Z)(function(){var e,n,t,r,o,i,s,a,u=arguments;return(0,l.__generator)(this,function(n){switch(n.label){case 0:e=u.length>0&&void 0!==u[0]?u[0]:0,n.label=1;case 1:return n.trys.push([1,3,,6]),[4,O.ZP.post("/forms/".concat(v,"/respond"),{sessionUuid:eB,respondentUuid:eH,responses:eJ,captchas:eU,isCompleted:!0})];case 2:return r=(t=n.sent().data).submissionId,ef=!0,[2,{submissionId:r,respondentId:t.respondentId}];case 3:if((null==(i=n.sent())?void 0:null===(s=i.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.errorType)==="INVALID_CAPTCHA"||e>=3)return[2,{submissionId:void 0,respondentId:void 0,error:i}];return[4,(0,j._)((e+1)*5e3)];case 4:return n.sent(),[4,na(e+1)];case 5:return[2,n.sent()];case 6:return[2]}})}),function(){return e7.apply(this,arguments)}),nl=(e3=(0,r.Z)(function(){var e,n,t,r,i,s,u,c,d;return(0,l.__generator)(this,function(l){switch(l.label){case 0:if(H)return ef=!0,[2];if(eO)return[2];if(eF(!0),eI(void 0),!ns)return[3,3];return[4,ns.flush()];case 1:return l.sent(),[4,(0,j.X)(function(){return!ep})];case 2:l.sent(),l.label=3;case 3:return[4,na()];case 4:if(n=(e=l.sent()).submissionId,t=e.respondentId,r=e.error){if((null==r?void 0:null===(i=r.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.errorType)==="INVALID_CAPTCHA")try{if(u=r.response.data.errors[0].field,c=no(u),null!==c)return ew((0,o.Z)({},u,[x.d2.ShouldSolveCaptcha])),nn(c),eF(!1),[2]}catch(f){(0,J.Tb)(f)}return eI(r),(0,J.Tb)(r),(0,J.uT)("Form submit: error",{extra:{formId:v,sessionUuid:eB,respondentUuid:eH,formData:JSON.stringify(null!=eJ?eJ:{}),isFormEmbedded:G.isFormEmbedded}}),nr(),eF(!1),[2]}if(!n||!t)return(0,J.uT)("Form submit: missing submissionId",{extra:{formId:v,sessionUuid:eB,respondentUuid:eH,formData:JSON.stringify(null!=eJ?eJ:{}),isFormEmbedded:G.isFormEmbedded}}),nr(),eF(!1),[2];try{ne(n,t),(0,k.Md)(v),(0,k.lL)(v),(0,T.LI)(Object.keys(eJ))}catch(m){(0,J.Tb)(m),(0,J.uT)("Form submit: post-submit action failed",{extra:{formId:v,sessionUuid:eB,respondentUuid:eH,formData:JSON.stringify(null!=eJ?eJ:{}),isFormEmbedded:G.isFormEmbedded}})}if(null==q?void 0:q.redirectOnCompletion)try{return d=(0,P.F2)(q.redirectOnCompletion,E,eJ,{id:n,respondentId:t,formName:N}),(0,I.yL)()?window.top.location.href=d:window.location.href=d,[2]}catch(p){if(null===eW)return er.lastPageHeight=Math.min(document.body.clientHeight,window.innerHeight),ev(!0),null==window||window.scrollTo(0,0),[2];eP((0,a.Z)(eT).concat([eW])),nt(eW)}return eF(!1),[2]}})}),function(){return e3.apply(this,arguments)}),nu=(e5=(0,r.Z)(function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:if(!(!ef&&!eO&&e$))return[3,2];return[4,nl()];case 1:if(e.sent(),(null==q?void 0:q.redirectOnCompletion)||!ef)return[2];e.label=2;case 2:if(null===eW)return er.lastPageHeight=Math.min(document.body.clientHeight,window.innerHeight),ev(!0),null==window||window.scrollTo(0,0),[2];return eP((0,a.Z)(eT).concat([eW])),nt(eW),[2]}})}),function(){return e5.apply(this,arguments)}),nc=(e6=(0,r.Z)(function(e){var n,t,r;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return e.preventDefault(),n=(0,S.r)(eG),[4,(0,C.T)(eG)];case 1:if(t=o.sent(),r=(0,S.G)((0,i.Z)({},eJ,eU),n,t),ew(r),Object.keys(r).length>0)return(0,k.mh)(),[2];return[4,nu()];case 2:return o.sent(),[2]}})}),function(e){return e6.apply(this,arguments)});if((0,c.useEffect)(function(){if((0,_.B)(_.I.TallyFormLoaded,{formId:v}),(0,I.yL)()){var e;null===(e=window.parent)||void 0===e||e.postMessage(JSON.stringify({event:_.I.TallyFormLoaded,payload:{formId:v}}),"*")}},[]),(0,c.useEffect)(function(){e9(),Object.keys(eU).length>0&&nn(ek),(0,I.yL)()&&1===ek||(0,k.Sz)()},[ek]),(0,c.useEffect)(function(){eQ&&eK&&eD&&setTimeout(function(){nu(),eE(!1)},400),!eQ&&eD&&eE(!1)},[eQ,eK,eD]),(0,z.Z)(E,eJ),R(ek,G),(0,V.Z)(function(){return!(0,I.yL)()&&!ef&&Object.keys(eJ).length>0},ea("form-respond.not-submitted-data-warning"),[eJ]),ei)return(0,u.jsxs)(eu,{metaData:G,integrations:et,styles:er,children:[es?(0,u.jsx)(X.Z,{title:ea("error.404.title"),description:ea("error.404.description")}):(0,u.jsx)(X.Z,{}),!er.removeBranding&&(0,u.jsx)(ec.Oi,{children:(0,u.jsx)(ed,{mode:"respond",styles:er})})]});if(A){var nd=(null==q?void 0:q.closeMessageTitle)||ea("form-respond.closed.title"),nf=(null==q?void 0:q.closeMessageDescription)||ea("form-respond.closed.description");return G.title=nd,G.description=nf,(0,u.jsxs)(eu,{metaData:G,integrations:et,styles:er,children:[(0,u.jsx)(X.Z,{icon:d.Z,title:nd,description:(null==q?void 0:q.closeMessageDescription)||ea("form-respond.closed.description")}),!er.removeBranding&&(0,u.jsx)(ec.Oi,{children:(0,u.jsx)(ed,{mode:"respond",styles:er})})]})}return(0,u.jsxs)(eu,{metaData:G,integrations:et,styles:er,children:[ez&&(0,u.jsx)(Q.Z,{cover:ez,settings:eq,styles:er}),eY&&(0,u.jsx)(K.default,{logo:eY,withCover:!!ez,styles:er}),(0,u.jsxs)(ec.VY,{className:"tally-page".concat(eh?"":" tally-page-".concat(ek)).concat(eh||eX?" tally-page-thank-you":""),styles:er,page:ek,isDefaultThankYouPage:eh,children:[!eh&&e0&&1!==ek&&(0,u.jsx)(ec.OQ,{className:"tally-back-button",children:(0,u.jsx)(W,{icon:f.Z,value:ea("label.back"),variant:"form-secondary",onClick:nr})}),eh?(0,u.jsx)(ee.Z,{mode:"respond",styles:er}):(0,u.jsxs)("form",{children:[(0,u.jsx)("progress",{max:U.length,value:ek,children:ea("form-respond.progress",{page:ek,pages:U.length})}),eZ&&(0,u.jsx)(en.Z,{exception:eZ}),(0,u.jsx)($.Z,{blocks:E,pageBlocks:eG,formData:eJ,errors:eb,mode:"respond",formId:v,workspaceId:F,hasActiveSubscription:eo,hasPartialSubmissions:null!==(g=null==q?void 0:q.hasPartialSubmissions)&&void 0!==g&&g,language:null!==(h=null==q?void 0:q.language)&&void 0!==h?h:Z.S.English,styles:er,onChange:function(e,n){!eD&&(eV(e,n),eQ&&void 0!==n&&eE(!0))},onSaveResponse:(n=(0,r.Z)(function(e){return(0,l.__generator)(this,function(n){return eD||(eg=eo&&(null==q?void 0:q.hasPartialSubmissions)&&em?(0,i.Z)({},eg,eJ,e):(0,i.Z)({},eg,e),ns()),[2]})}),function(e){return n.apply(this,arguments)}),onSolveCaptcha:function(e){eA((0,i.Z)({},eU,e))}}),e0&&(0,u.jsxs)(c.Fragment,{children:[(0,u.jsxs)(ec.YD,{className:"tally-submit-button",children:[(0,u.jsx)("div",{children:(0,u.jsx)(W,{type:"submit",value:null!=e1?e1:ea(e$?"label.submit":"label.next"),icon:m.Z,iconPosition:"right",variant:"form",isLoading:eO||eD,onClick:nc})}),e8&&(0,u.jsx)("div",{children:(0,u.jsx)(ed,{mode:"respond",styles:er})})]}),e2&&(0,u.jsx)(ec.V8,{dangerouslySetInnerHTML:{__html:ea("form-respond.password-warning",{reportUrl:b.Z.get("help-links.report-abuse")})}})]})]}),e8&&eX&&(0,u.jsx)(ec.Oi,{children:(0,u.jsx)(ed,{mode:"respond",styles:er,isOnThankYouPage:!0,isOnCustomThankYouPage:!0})})]})]})}},58043:function(e,n,t){var r=t(67294),o=t(11163);n.Z=function(e,n,t){var i=(0,o.useRouter)(),s=(0,r.useCallback)(function(t){if(e&&e()){if(t.preventDefault)t.preventDefault(),t.returnValue="";else if(!confirm(n))throw"routeChangeStopped"}},t);(0,r.useEffect)(function(){var e;return null==window||window.addEventListener("beforeunload",s),null==i||null===(e=i.events)||void 0===e||e.on("routeChangeStart",s),function(){var e;null==window||window.removeEventListener("beforeunload",s),null==i||null===(e=i.events)||void 0===e||e.off("routeChangeStart",s)}},[s])}},72690:function(e,n,t){t.d(n,{LI:function(){return a},R1:function(){return i},US:function(){return s}});var r=t(39707),o="PHONE_NUMBER_INPUT",i=function(e,n,t){try{var i={},s=(0,r.wf)(o);s&&(i=JSON.parse(s)),i.keys||(i.keys={}),i.lastCountryCode=t||i.lastCountryCode||null,n||t?i.keys[e]={value:n,countryCode:t}:delete i.keys[e],localStorage.setItem(o,JSON.stringify(i))}catch(a){}},s=function(e,n,t){try{var i={},s=(0,r.wf)(o);if(s){if(i=JSON.parse(s),!n&&!t&&i.lastCountryCode)return i.lastCountryCode;if(i.keys&&i.keys[e]&&n===i.keys[e].value&&i.keys[e].countryCode)return i.keys[e].countryCode}}catch(a){}return null},a=function(e){try{var n=(0,r.wf)(o);if(!n)return;var t=JSON.parse(n);if(!t.keys)return;var i=!1,s=!0,a=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;t.keys[d]&&(delete t.keys[d],i=!0)}}catch(f){a=!0,l=f}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}0===Object.keys(t.keys).length&&(delete t.keys,i=!0),i&&localStorage.setItem(o,JSON.stringify(t))}catch(m){}}}}]);